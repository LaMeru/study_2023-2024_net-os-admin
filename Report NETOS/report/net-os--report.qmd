---
## Author
author:
  name: Чигладзе Майя Владиславовна
  degrees: student
  orcid: 0000-0002-0877-7063
  email: 1132239399@pfur.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 119530
      city: Москва
      address: ул. Очаковское шоссе, д. 9А

## Title
title: "Доклад на тему 'Трансляция сетевых адресов NAT'"
subtitle: "Администрирование сетевых подсистем"
license: "CC BY"
---

# Что такое NAT

NAT (network address translation) — это технология, позволяющая перенаправлять трафик между локальной и глобальной сетями. Благодаря ей устройства могут не только взаимодействовать друг с другом в домашней сети, но и выходить в интернет.
Обычно провайдер предоставляет клиентам всего один IP-адрес для доступа к интернету. Он может быть статическим или динамическим, но адрес всегда один. При этом пользователи хотят задействовать несколько устройств в сети, например подключить смартфон, ноутбук, телевизор и несколько умных колонок.
Для этого используют маршрутизаторы — те самые коробочки с антеннами, которые приходится перезагружать, если пропадает сеть. К маршрутизатору подключают Ethernet-кабель провайдера и все устройства в доме, а каждому устройству присваивается локальный IP-адрес.
Вот на этом этапе в дело вступает технология NAT. Когда вы открываете страницу в браузере, NAT перенаправляет трафик с локального IP-адреса вашего смартфона или компьютера на основной IP, выданный провайдером, и обратно. С точки зрения сети это выглядит так, будто все запросы в Глобальную сеть отправляет именно маршрутизатор, а не несколько смартфонов и ноутбуков, подключённых к нему.
Это нужно по трём основным причинам:

 * Экономия IP-адресов. Количество свободных IP-адресов в мире ограничено, а оборудование, способное выдержать столько независимых линий, стоит очень дорого. Чтобы не выдавать каждому устройству, подключённому к Глобальной сети, свой собственный адрес, проще предоставить клиенту один основной, к которому через маршрутизатор можно подключить множество гаджетов.
 
 * Безопасность. NAT скрывает локальные IP-адреса от внешней сети, обеспечивая дополнительный уровень конфиденциальности. Современные маршрутизаторы также позволяют вручную настраивать NAT, поэтому можно запретить некоторым устройствам выходить в интернет или посещать определённые сайты.
 
 * Удобство. NAT позволяет устройствам обмениваться данными в локальной сети без необходимости подключения к интернету, одновременно обеспечивая доступ к ресурсам Глобальной сети.

# Типы NAT

Статический NAT часто применяется на серверах, поскольку каждому локальному адресу присваивается уникальный глобальный адрес. Это позволяет организовать бесперебойный удалённый доступ к серверу без необходимости находиться в одной локальной сети с ним.
При динамическом NAT маршрутизатор выдаёт подключаемому устройству случайный глобальный адрес из списка доступных на данный момент. Если свободных адресов недостаточно, используется временный IP-адрес.
PAT (port address translation), или перегруженный NAT, — самый распространённый тип NAT. В этом случае несколько устройств с уникальными локальными адресами используют один глобальный IP-адрес для выхода в сеть. При запросе к веб-ресурсу роутер отправляет не только IP-адрес, но и порт, который он выделил устройству. Сервер сайта, обработав запрос, возвращает ответ вместе с номером порта, чтобы маршрутизатор мог определить, на какое именно из подключённых устройств следует отправить ответ. 

# Как работает NAT

Давайте на примере PAT, как самого популярного типа NAT, подробно разберём его принцип работы. На схеме ниже видно, что смартфон с локальным IP-адресом 192.168.0.3 (inside local) подключён к маршрутизатору. У сервера, к которому мы хотим получить доступ, есть внешний IP-адрес (outside) —208.135.15.7. В этой цепочке также присутствует маршрутизатор с IP-адресом 208.135.26.4 (inside global) и технологией NAT в режиме PAT.
При попытке загрузить сайт, маршрутизатор направит трафик от нашего смартфона с локальным IP-адресом 192.168.0.3 в Сеть через свой глобальный IP-адрес 208.135.26.4. При этом связь между этими адресами маршрутизатор сохранит в специальной таблице.
Сервер с адресом 208.135.15.7 принимает и обрабатывает запрос, после чего отправляет ответ на глобальный IP-адрес маршрутизатора (inside global) — 208.135.26.4. Получив ответ от сервера, маршрутизатор обращается к своей таблице, находит соответствующую запись и перенаправляет ответ на локальный IP-адрес смартфона. (см. рис. @fig-011).

![Как работает NAT](image/1.png){#fig-011 width=70%}

# Настройка NAT

NAT не позволяет устройствам извне получать доступ к гаджетам в вашей локальной сети, однако эта защита может мешать использованию интернета. Например, проблемы могут возникать при работе с торрентами и программами для удалённого доступа к рабочему столу. Это хорошо известно пользователям Xbox, у которых консоль часто не может подключиться к онлайн-игре.
Для решения подобных проблем необходимо открыть порты, требуемые для работы конкретного сервиса. Сначала нужно найти список этих портов, который обычно размещается на официальном сайте продукта. Например, для Xbox список портов можно найти на странице поддержки, а в торрент-клиентах — в настройках. (см. рис. @fig-012).

![Настройка NAT. Шаг 1](image/2.png){#fig-012 width=70%}

После этого вам понадобится смартфон или компьютер, подключённый к маршрутизатору. Откройте браузер и перейдите в настройки роутера, введя его IP-адрес в адресной строке. Если адрес неизвестен, проверьте инструкцию или наклейки на корпусе устройства. Например, для маршрутизатора Keenetic это 192.168.1.1.
Затем авторизуйтесь, используя логин и пароль. Если вы их не меняли, попробуйте стандартные комбинации, такие как admin/admin или root/admin.  (см. рис. @fig-013).

![Настройка NAT. Шаг 2](image/3.png){#fig-013 width=50%}

Перейдите в раздел настроек переадресации портов. В маршрутизаторах Keenetic этот пункт называется Переадресация портов. У других производителей могут встречаться другие названия: Port, DMZ или Forwarding. (см. рис. @fig-014).

![Настройка NAT. Шаг 3](image/4.png){#fig-014 width=70%}

Нажмите кнопку Добавить правило и в появившемся окне введите данные, которые вы узнали с официального сайта продукта (см. рис. @fig-015).

![Настройка NAT. Шаг 4](image/5.png){#fig-015 width=70%}

На (см. рис. @fig-015) выше мы открыли первый порт из списка, необходимый для работы сервисов Xbox Live. Разберём каждую строку:
 * Описание — название для правила, может быть любым.
 * Вход — способ подключения роутера к интернету (Ethernet-кабель, 4G-модем, спутниковая тарелка).
 * Выход — имя устройства, для которого нужно открыть порт. В примере указан компьютер, на котором тоже бывают проблемы с доступом к Xbox Live.
 * Имя клиента — устанавливается автоматически после выбора устройства выхода.
 * Протокол — тип протокола, требуемого для порта: UDP, TCP или оба одновременно.
 * Тип правила — указывает, будет открыт один порт или диапазон портов.
 * Открыть порт — номер открываемого порта.
 * Расписание работы — нужно ли открывать порт постоянно или только в определённое время.
Так проделайте с каждым портом из списка и перезагрузите маршрутизатор, чтобы изменения вступили в силу.

# Вывод 

NAT – это не просто техническое решение, а важный элемент архитектуры Интернета, который позволил ему развиваться на протяжении десятилетий. Несмотря на некоторые ограничения и возрастающую сложность в мире IPv6, NAT продолжает оставаться неотъемлемой частью сетевых технологий, обеспечивая связь и доступность для миллионов пользователей по всему миру. Его понимание критически важно для любого специалиста в области компьютерных сетей.

 * NAT — технология, перенаправляющая трафик между локальной и глобальной сетями.
 * Она позволяет использовать один IP-адрес для подключения нескольких устройств к интернету.
 * Если некоторые сервисы не работают, проверьте настройки NAT и откройте необходимые порты.
 * NAT скрывает локальные IP-адреса от внешней сети, обеспечивая защиту и конфиденциальность.

# Список литературы{.unnumbered}

1. Компьютерные сети : нисходящий подход : учебное пособие / Дж. Ф. Куроуз, К. В. Росс. – 7-е изд. – Москва : СПб. : Питер, 2018. – 896 с.
2. Стивенс, У. Р. TCP/IP. Протоколы. Практическое руководство / У. Р. Стивенс. – Санкт-Петербург : БХВ-Петербург, 2015. – 688 с.
3. Одом, В. CCNA Routing and Switching Study Guide. Official Cert Guide / В. Оом. – 4-е изд. – San Francisco : Sybex, 2016. – 1000 p.
4. Network Address Translation // Wikipedia : The Free Encyclopedia. – Текст : электронный. – Режим доступа: https://en.wikipedia.org/wiki/Network_Address_Translation (дата обращения: 25.09.2025).
5. Конфигурирование NAT на маршрутизаторах Cisco. – Текст : электронный // Cisco Systems. – Режим доступа: https://www.cisco.com/c/en/us/support/docs/ip/network-address-translation-nat/13778-nat-faq.html (дата обращения: 25.09.2025).
6. Сравнительный анализ производительности и безопасности различных типов NAT / А. И. Петров, Б. В. Смирнов // Вестник связи. – 2022. – № 3. – С. 45–52. – Текст : электронный. 

::: {#refs}
:::
