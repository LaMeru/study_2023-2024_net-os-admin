---
## Author
author:
  name: Чигладзе Майя Владиславовна
  degrees: Student
  orcid: 0000-0002-0877-7063
  email: 1132239399@pfur.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 119530
      city: Москва
      address: ул. Очаковское шоссе, д. 9А
## Title
title: Лабораторная работа №14
subtitle: Администрирование сетевых подсистем
license: CC BY
date: today
date-format: "2025-10-18" # Example: 2025-09-06
---

# Информация

## Докладчик

:::::::::::::: {.columns align=center}
::: {.column width="70%"}

  * Чигладзе Майя Владиславовна  
  *  студентка  
  * направление "Прикладная информатика"  
  * Российский университет дружбы народов им. П. Лумумбы
  * [1132239399@pfur.ru](mailto:1132239399@pfur.ru)
  * <https://github.com/LaMeru/study_2023-2024_net-os-admin>

:::
::: {.column width="30%"}

![](./image/Chigladze.jpg)

:::
::::::::::::::

# Вводная часть

## Актуальность

В смешанных сетях SMB/CIFS (Samba) обеспечивает совместный доступ к файлам и принтерам между Windows и Linux, что важно для централизованного управления ресурсами и правами пользователей.

## Объект исследования

•  Сервер Samba (`smbd`, `nmbd` или `samba`).

•  Клиенты Windows и Linux.

•  Конфигурационный файл `/etc/samba/smb.conf`.

## Цели

Приобретение навыков настройки доступа групп пользователей к общим ресурсам по протоколу SMB.

## Задачи

•  Установить и настроить Samba-сервер.

•  Создать шары и назначить права группам пользователей.

•  Настроить аутентификацию (локальная/LDAP).

•  Протестировать доступ с Windows и Linux клиентов.

## Материалы

•  Сервер с Linux и Samba.

•  Клиенты Windows/Linux для тестирования.

•  `/etc/samba/smb.conf`, инструменты `smbpasswd`, `pdbedit`.

•  Документация по Samba.

## Методы

•  Редактирование `smb.conf` и перезапуск служб.

•  Управление учетными записями Samba.

•  Подключение шеров и проверка прав.

•  Логирование и диагностика (smbstatus, логи Samba).

# Выполнение лабораторной работы

# Настройка сервера Samba

## Установка необходимых пакетов на сервере

![Установим каталоги](image/1.1.jpg){#fig-011 width=70%}

## Создание группы для пользователей Samba

![Создадим группу](image/1.2.jpg){#fig-012 width=70%}

## Добавление пользователя в группу sambagroup

![Добавим пользователя](image/1.3.jpg){#fig-013 width=70%}

## Создание общего каталога для Samba

![Создадим общий каталог](image/1.4.jpg){#fig-014 width=70%}

## Настройка конфигурации Samba

![В файле конфигурации изменим параметр группы](image/1.5.jpg){#fig-015 width=70%}

## Проверка синтаксиса smb.conf

![Убедитесь что вы не сделали ошибок](image/1.6.jpg){#fig-016 width=70%}

## Запуск и проверка статуса демона Samba

![Запустите демон Самба](image/1.7.jpg){#fig-017 width=70%}

## Проверка наличия общего доступа с помощью smbclient

![Проверим наличие общего досутпа](image/1.8.jpg){#fig-018 width=70%}

## Просмотр конфигурации firewall для Samba

![Смотрим файл конфигурации](image/1.9.jpg){#fig-019 width=70%}

## Настройка межсетевого экрана для Samba

![Настраиваем межсетевой экран](image/1.10.jpg){#fig-110 width=70%}

## Настройка прав доступа к каталогу

![Настраиваем права](image/1.11.jpg){#fig-111 width=70%}

## Просмотр контекста безопасности SELinux

![Смотрим контекст безопасности](image/1.12.jpg){#fig-112 width=70%}

## Настройка контекста безопасности SELinux для каталога

![Настраиваем контекст](image/1.13.jpg){#fig-113 width=70%}

## Проверка изменений контекста SELinux

![Проверяем](image/1.14.jpg){#fig-114 width=70%}

## Разрешение экспорта Samba для чтения и записи

![Рарешаем экспорт](image/1.15.jpg){#fig-115 width=70%}

## Проверка UID пользователя и его групп

![Смотрим ЮАЙДИ пользователя](image/1.16.jpg){#fig-116 width=70%}

## Создание файла на разделяемом ресурсе под пользователем

![Пробуем создать файл](image/1.17.jpg){#fig-117 width=70%}

## Добавление пользователя в базу пользователей Samba

![Добавим пользователя](image/1.18.jpg){#fig-118 width=70%}

# Монтирование файловой системы Samba на клиенте

## Установка пакетов на клиенте

![Установим пакеты](image/2.1.jpg){#fig-021 width=70%}

## Просмотр файла конфигурации firewall для клиента

![Просматриваем файл](image/2.2.jpg){#fig-022 width=70%}

## Настройка межсетевого экрана на клиенте

![Настраиваем экран](image/2.3.jpg){#fig-023 width=70%}

## Создание группы sambagroup и добавление пользователя

![Создаем группу](image/2.4.jpg){#fig-024 width=70%}

## Настройка рабочей группы в smb.conf

![Меняем параметры](image/2.5.jpg){#fig-025 width=70%}

## Проверка наличия общего доступа с клиента

![Пробуем подключаться](image/2.6.jpg){#fig-026 width=70%}

## Подключение с клиента под учетной записью пользователя

![](image/2.7.jpg){#fig-027 width=70%}

## Создание точки монтирования на клиенте

![Создаем точку монтирования](image/2.8.jpg){#fig-028 width=70%}

## Монтирование общего ресурса с помощью mount

![Получаем доступ к ресурсу](image/2.9.jpg){#fig-029 width=70%}

## Проверка записи файлов на ресурс

![Может записывать файл](image/2.10.jpg){#fig-210 width=70%}

## Отмонтирование каталога

![Отмонтируй каталог](image/2.11.jpg){#fig-211 width=70%}

## Настройка работы с Samba через файл учётных данных

![Создаем файл](image/2.12.jpg){#fig-212 width=70%}

## Проверка монтирования после перезагрузки клиента

# Внесение изменений в настройки внутреннего окружения виртуальных машин

## Подготовка каталога smb на сервере и копирование smb.conf

![Переходим в каталог](image/3.1.jpg){#fig-031 width=70%}

## Создание исполняемого файла smb.sh на сервере

![Создаем исполняемый файл](image/3.2.jpg){#fig-032 width=70%}

## Подготовка каталога smb на клиенте и копирование конфигурации

![Переходим в каталог](image/3.3.jpg){#fig-033 width=70%}

## Создание исполняемого файла smb.sh на клиенте

![Создаем исполняемый файл](image/3.4.jpg){#fig-034 width=70%}

## Добавление вызова скриптов в Vagrantfile

![Создаем скрипт](image/3.5.jpg){#fig-035 width=70%}

# Выводы

## Выводы

В ходе выполнения лабораторной работы я приобрела навыки настройки доступа групп пользователей к общим ресурсам по протоколу SMB.



