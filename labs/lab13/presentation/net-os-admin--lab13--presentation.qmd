---
## Author
author:
  name: Чигладзе Майя Владиславовна
  degrees: Student
  orcid: 0000-0002-0877-7063
  email: 1132239399@pfur.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 119530
      city: Москва
      address: ул. Очаковское шоссе, д. 9А
## Title
title: Лабораторная работа №13
subtitle: Администрирование сетевых подсистем
license: CC BY
date: today
date-format: "2025-10-18" # Example: 2025-09-06
---

# Информация

## Докладчик

:::::::::::::: {.columns align=center}
::: {.column width="70%"}

  * Чигладзе Майя Владиславовна  
  *  студентка  
  * направление "Прикладная информатика"  
  * Российский университет дружбы народов им. П. Лумумбы
  * [1132239399@pfur.ru](mailto:1132239399@pfur.ru)
  * <https://github.com/LaMeru/study_2023-2024_net-os-admin>

:::
::: {.column width="30%"}

![](./image/Chigladze.jpg)

:::
::::::::::::::

# Вводная часть

## Актуальность

Общий доступ к файловым ресурсам в локальной сети остаётся важной задачей; NFS обеспечивает эффективный обмен данными между UNIX/Linux-системами для бэкапов, кластеров и совместной работы.

## Объект исследования

•  NFS-сервер (например, `nfs-kernel-server`).

•  NFS-клиенты и точки монтирования.

•  Файл `/etc/exports`.

## Цели

Приобретение навыков настройки сервера NFS для удалённого доступа к ресурсам.

## Задачи

•  Установить и запустить NFS-сервер.

•  Настроить экспорт директорий и права доступа.

•  Смонтировать экспорт на клиенте и протестировать.

•  Обеспечить базовую безопасность (root_squash, ограничение по хостам).

## Материалы

•  Сервер и клиент(ы) под Linux.

•  Пакеты NFS (сервер/клиент).

•  Тестовые данные и каталог для шаринга.

•  `/etc/exports`, `/etc/fstab`.

•  Утилиты `exportfs`, `mount`, `showmount`.

## Методы

•  Конфигурирование `/etc/exports` и перезапуск службы.

•  Монтирование вручную и через `/etc/fstab`.

•  Тестирование прав доступа и производительности.

•  Анализ системных логов.

# Выполнение лабораторной работы

# Выполнение лабораторной работы

# Настройка сервера NFSv4

## Установка необходимого программного обеспечения на сервере

![Установим программное обеспечение](image/1.1.jpg){#fig-011 width=70%}

## Создание корневого каталога NFS

![Создадим каталог](image/1.2.jpg){#fig-012 width=70%}

## Настройка общего каталога в /etc/exports

![Пропишим общий каталог](image/1.3.jpg){#fig-013 width=70%}

## Задание контекста безопасности NFS для каталога

![Пропишим контекст безопасности](image/1.4.jpg){#fig-014 width=70%}

## Применение настроек SELinux к файловой системе

![Применим измененную настройку](image/1.5.jpg){#fig-015 width=70%}

## Запуск и автозагрузка сервера NFS

![Запускаем сервер](image/1.6.jpg){#fig-016 width=70%}

## Настройка межсетевого экрана для сервера NFS

![Настраиваем межсетевой экран](image/1.7.jpg){#fig-017 width=70%}

## Установка NFS на клиенте

![Устанавливаем ПО](image/1.8.jpg){#fig-018 width=70%}

## Проверка доступных ресурсов на сервере

![Смотрим ресурсы](image/1.9.jpg){#fig-019 width=70%}

## Остановка firewall для проверки доступа

![Останавливаем сервис](image/1.10.jpg){#fig-110 width=70%}

## Запуск firewall после тестирования

![Запускаем сервис](image/1.11.jpg){#fig-111 width=70%}

## Проверка задействованных служб NFS

![Смотрим какие службы задействованы](image/1.12.jpg){#fig-112 width=70%}

## Добавление rpc-bind и mountd в настройки firewall

![Добавьте службы](image/1.13.jpg){#fig-113 width=70%}

## Проверка подключения удалённого ресурса на клиенте

![Проверьте подключение удаленного ресурса](image/1.14.jpg){#fig-114 width=70%}

# Монтирование NFS на клиенте

## Создание каталога и монтирование удалённого ресурса

![Создаем каталог](image/2.1.jpg){#fig-021 width=70%}

## Проверка успешного подключения NFS

![Общий ресурс подключен правильно](image/2.2.jpg){#fig-022 width=70%}

## Добавление записи в /etc/fstab на клиенте

![Добавляем запись в конце файла](image/2.3.jpg){#fig-023 width=70%}

## Проверка автоматического монтирования удалённых ресурсов

![Проверим наличие монтирования](image/2.4.jpg){#fig-024 width=70%}

# Подключение каталогов к дереву NFS

## Создание каталога для веб-сервера на сервере

![Создадим общий каталог](image/3.1.jpg){#fig-031 width=70%}

## Подмонтирование каталога web-сервера

![Подмонтируем каталог вебсервера](image/3.2.jpg){#fig-032 width=70%}

## Проверка содержимого каталога на сервере

![На сервере проверим что отображается](image/3.3.jpg){#fig-033 width=70%}

## Проверка содержимого каталога на клиенте

![На клиенте посмотрела что отображается](image/3.4.jpg){#fig-034 width=70%}

## Добавление экспорта веб-каталога в /etc/exports

![Добавила экспорт](image/3.5.jpg){#fig-035 width=70%}

## Экспорт всех каталогов, указанных в /etc/exports

![Экспортировала все каталоги](image/3.6.jpg){#fig-036 width=70%}

## Проверка каталога на клиенте

![Проверила на клиенте каталог](image/3.7.jpg){#fig-037 width=70%}

## Добавление записи в /etc/fstab для bind-монтажа веб-каталога

![Добавила следующую запись](image/3.8.jpg){#fig-038 width=70%}

## Повторный экспорт каталогов

![Экспортировала каталоги](image/3.9.jpg){#fig-039 width=70%}

## Проверка каталога на клиенте

![Проверила каталог](image/3.10.jpg){#fig-310 width=70%}

# Подключение каталогов для работы пользователей

## Создание личного каталога common пользователя user на сервере

![Создала каталог и файлы](image/4.1.jpg){#fig-041 width=70%}

## Создание общего каталога для пользователя user по сети

![Создала общий каталог](image/4.2.jpg){#fig-042 width=70%}

## Подмонтирование каталога common пользователя user в NFS

![Подмонтировала каталог](image/4.3.1.jpg){#fig-0431 width=70%}

![Проверила каталог](image/4.3.2.jpg){#fig-0432 width=70%}

## Добавление каталога пользователя в /etc/exports

![Подключила каталог](image/4.4.jpg){#fig-044 width=70%}

## Внесение изменений в /etc/fstab

![Внесла изменения в файл](image/4.5.jpg){#fig-045 width=70%}

## Повторный экспорт каталогов

![Экспортировала каталог](image/4.6.jpg){#fig-046 width=70%}

## Проверка каталога на клиенте

![Проверила каталог](image/4.7.jpg){#fig-047 width=70%}

## Создание и проверка файла на клиенте

![Перешла в каталог](image/4.8.jpg){#fig-048 width=70%}

## Проверка изменений на сервере

![Появились ли изменения в каталоге](image/4.9.jpg){#fig-049 width=70%}

# Внесение изменений в настройки внутреннего окружения виртуальных машин

## Создание структуры каталогов и копирование /etc/exports на server

![Перешла в каталог](image/5.1.jpg){#fig-051 width=70%}

## Создание исполняемого файла nfs.sh на server

![Создала исполняемый файл](image/5.2.jpg){#fig-052 width=70%}

## Подготовка каталога на client

![Перешла в каталог](image/5.3.jpg){#fig-053 width=70%}

## Создание исполняемого файла nfs.sh на client

![Создала исполняемый файл](image/5.4.jpg){#fig-054 width=70%}

## Добавление вызова скриптов в Vagrantfile

![Добавляем необходимое в конфигурационный файл](image/5.5.jpg){#fig-055 width=70%}

# Выводы

## Выводы

При выполнении лабораторной работы я приобрела навыки настройки сервера NFS для удалённого доступа к ресурсам.


